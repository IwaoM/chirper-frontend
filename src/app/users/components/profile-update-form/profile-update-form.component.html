<div class="global__form-vertical-padding">
  <div class="global__form-container">
    <div class="global__form-title-box">
      <p class="global__form-title">Modifier votre profil</p>
    </div>
    <form [formGroup]="profileForm" class="global__form-fields-block" (ngSubmit)="onUpdateButton()">
      <div class="global__form-items-row">
        <input type="email" class="global__text-input global__text-normal width-full" formControlName="email" placeholder="Email *">
      </div>
      <div>
        <p *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched" class="global__form-error">
          {{ getFormControlErrorText(profileForm.get('email')) }}
        </p>
      </div>
      <div class="global__form-items-row">
        <input type="text" class="global__text-input global__text-normal width-full" formControlName="handle" placeholder="Nom d'utilisateur *">
      </div>
      <div>
        <p *ngIf="profileForm.get('handle')?.invalid && profileForm.get('handle')?.touched" class="global__form-error">
          {{ getFormControlErrorText(profileForm.get('handle')) }}
        </p>
      </div>
      <div class="global__form-items-row">
        <input type="text" class="global__text-input global__text-normal width-full" formControlName="username" placeholder="Nom d'affichage">
      </div>
      <div class="global__form-items-row">
        <div class="profile-pic-box">
          <input class="profile-pic-field" type="file" accept=".png" (change)="onProfilePicSelect($event)">
          <img *ngIf="profilePicturePreview" [src]="profilePicturePreview" class="profile-pic-preview">
          <svg
            *ngIf="!profilePicturePreview"
            viewBox="0 0 120 120"
          >
            <path class="global__svg-border" d="M 60.00,25.00 C 60.00,25.00 59.29,25.29 59.29,25.29 59.29,25.29 49.58,35.00 49.58,35.00 49.58,35.00 20.00,35.00 20.00,35.00 20.00,35.00 19.00,36.00 19.00,36.00 19.00,36.00 19.00,86.00 19.00,86.00 19.00,86.00 20.00,87.00 20.00,87.00 20.00,87.00 100.00,87.00 100.00,87.00 100.00,87.00 101.00,86.00 101.00,86.00 101.00,86.00 101.00,36.00 101.00,36.00 101.00,36.00 100.00,35.00 100.00,35.00 100.00,35.00 90.41,35.00 90.41,35.00 90.41,35.00 80.71,25.29 80.71,25.29 80.71,25.29 80.00,25.00 80.00,25.00 80.00,25.00 60.00,25.00 60.00,25.00 Z M 60.41,27.00 C 60.41,27.00 79.58,27.00 79.58,27.00 79.58,27.00 89.29,36.71 89.29,36.71 89.29,36.71 90.00,37.00 90.00,37.00 90.00,37.00 99.00,37.00 99.00,37.00 99.00,37.00 99.00,85.00 99.00,85.00 99.00,85.00 21.00,85.00 21.00,85.00 21.00,85.00 21.00,37.00 21.00,37.00 21.00,37.00 50.00,37.00 50.00,37.00 50.00,37.00 50.71,36.71 50.71,36.71 50.71,36.71 60.41,27.00 60.41,27.00 Z M 70.00,42.00 C 59.52,42.00 51.00,50.51 51.00,61.00 51.00,71.48 59.52,80.00 70.00,80.00 80.48,80.00 89.00,71.48 89.00,61.00 89.00,50.51 80.48,42.00 70.00,42.00 Z M 70.00,44.00 C 79.40,44.00 87.00,51.60 87.00,61.00 87.00,70.40 79.40,78.00 70.00,78.00 60.60,78.00 53.00,70.40 53.00,61.00 53.00,51.60 60.60,44.00 70.00,44.00 Z"/>
          </svg>
        </div>
        <div class="global__form-item-separator"></div>
        <div class="textarea-box">
          <textarea placeholder="Bio : quelques mots sur vous..." formControlName="bio"></textarea>
        </div>
      </div>
      <div *ngIf="profilePicturePreview" class="remove-image-button">
        <svg
            class="global__mini-icon-button"
            viewBox="0 0 16 16"
            (click)="onProfilePicRemove()"
          >
            <path class="global__svg-border" d="M 8.00,0.00 C 3.59,0.00 0.00,3.59 0.00,8.00 0.00,12.41 3.59,16.00 8.00,16.00 12.41,16.00 16.00,12.41 16.00,8.00 16.00,3.59 12.41,0.00 8.00,0.00 Z M 8.00,1.40 C 11.66,1.40 14.60,4.35 14.60,8.00 14.60,11.66 11.66,14.60 8.00,14.60 4.35,14.60 1.40,11.66 1.40,8.00 1.40,4.35 4.35,1.40 8.00,1.40 Z M 5.49,4.50 C 5.49,4.50 4.50,5.49 4.50,5.49 4.50,5.49 7.01,8.00 7.01,8.00 7.01,8.00 4.50,10.50 4.50,10.50 4.50,10.50 5.49,11.49 5.49,11.49 5.49,11.49 8.00,8.99 8.00,8.99 8.00,8.99 10.50,11.49 10.50,11.49 10.50,11.49 11.49,10.50 11.49,10.50 11.49,10.50 8.99,8.00 8.99,8.00 8.99,8.00 11.49,5.49 11.49,5.49 11.49,5.49 10.50,4.50 10.50,4.50 10.50,4.50 8.00,7.01 8.00,7.01 8.00,7.01 5.49,4.50 5.49,4.50 Z"/>
          </svg>
      </div>
      <div class="global__form-items-row">
        <button class="global__accent-button width-full" type="submit" [disabled]="profileForm.invalid">Mettre à jour</button>
      </div>
      <div class="global__form-confirm-box">
        <p class="global__request-success" *ngIf="profileUpdateResult > 0">Profil mis à jour</p>
      </div>
    </form>
  </div>
</div>